{"id":"bdWK","dependencies":[{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-base/lib/dependency.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-base/src/dependency.ts","includedInParent":true,"mtime":499162500000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/package.json","includedInParent":true,"mtime":1583756177000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-base/package.json","includedInParent":true,"mtime":1583756136000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-base/.browserslistrc","includedInParent":true,"mtime":1583756140000}],"generated":{"js":"\"use strict\";function e(e,n){var o=n[e];if(!o){var r=new Error(\"Cannot find module '\".concat(e,\"'\"));throw r.code=\"MODULE_NOT_FOUND\",r}return o}function n(e){if(e){if(\"function\"==typeof e.setup)return e;console.warn(\"Setup function is missing.\",name)}else console.error(\"Invalid module found.\",name);return{setup:function(){}}}function o(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={exports:{}};try{var u=r&&\"\\n//# sourceURL=\".concat(r);new Function(\"module\",\"exports\",\"require\",o+u)(i,i.exports,function(n){return e(n,t)})}catch(c){console.error(\"Error while evaluating \".concat(n,\".\"),c)}return i.exports}function r(e,r){var t=o(e,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return Promise.resolve(t).then(n)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.evalDependency=o,exports.compileDependency=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/dependency.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/dependency.ts","name":null,"original":{"line":3,"column":9},"generated":{"line":1,"column":22}},{"source":"../src/dependency.ts","name":null,"original":{"line":3,"column":23},"generated":{"line":1,"column":24}},{"source":"../src/dependency.ts","name":null,"original":{"line":3,"column":37},"generated":{"line":1,"column":26}},{"source":"../src/dependency.ts","name":null,"original":{"line":4,"column":8},"generated":{"line":1,"column":29}},{"source":"../src/dependency.ts","name":null,"original":{"line":4,"column":8},"generated":{"line":1,"column":33}},{"source":"../src/dependency.ts","name":null,"original":{"line":4,"column":21},"generated":{"line":1,"column":35}},{"source":"../src/dependency.ts","name":null,"original":{"line":4,"column":34},"generated":{"line":1,"column":37}},{"source":"../src/dependency.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":40}},{"source":"../src/dependency.ts","name":null,"original":{"line":6,"column":7},"generated":{"line":1,"column":44}},{"source":"../src/dependency.ts","name":null,"original":{"line":6,"column":19},"generated":{"line":1,"column":46}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":47}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":51}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":18},"generated":{"line":1,"column":53}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":22},"generated":{"line":1,"column":57}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":1,"column":63}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":1,"column":86}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":1,"column":93}},{"source":"../src/dependency.ts","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":95}},{"source":"../src/dependency.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":101}},{"source":"../src/dependency.ts","name":null,"original":{"line":8,"column":5},"generated":{"line":1,"column":107}},{"source":"../src/dependency.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":109}},{"source":"../src/dependency.ts","name":null,"original":{"line":8,"column":26},"generated":{"line":1,"column":114}},{"source":"../src/dependency.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":133}},{"source":"../src/dependency.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":135}},{"source":"../src/dependency.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":142}},{"source":"../src/dependency.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":144}},{"source":"../src/dependency.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":153}},{"source":"../src/dependency.ts","name":null,"original":{"line":15,"column":29},"generated":{"line":1,"column":155}},{"source":"../src/dependency.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":158}},{"source":"../src/dependency.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":161}},{"source":"../src/dependency.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":163}},{"source":"../src/dependency.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":164}},{"source":"../src/dependency.ts","name":null,"original":{"line":18,"column":34},"generated":{"line":1,"column":167}},{"source":"../src/dependency.ts","name":null,"original":{"line":18,"column":20},"generated":{"line":1,"column":186}},{"source":"../src/dependency.ts","name":null,"original":{"line":18,"column":24},"generated":{"line":1,"column":188}},{"source":"../src/dependency.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":194}},{"source":"../src/dependency.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":201}},{"source":"../src/dependency.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":203}},{"source":"../src/dependency.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":211}},{"source":"../src/dependency.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":216}},{"source":"../src/dependency.ts","name":null,"original":{"line":19,"column":47},"generated":{"line":1,"column":245}},{"source":"../src/dependency.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":256}},{"source":"../src/dependency.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":264}},{"source":"../src/dependency.ts","name":null,"original":{"line":17,"column":18},"generated":{"line":1,"column":270}},{"source":"../src/dependency.ts","name":null,"original":{"line":17,"column":43},"generated":{"line":1,"column":294}},{"source":"../src/dependency.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":300}},{"source":"../src/dependency.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":306}},{"source":"../src/dependency.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":307}},{"source":"../src/dependency.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":313}},{"source":"../src/dependency.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":327}},{"source":"../src/dependency.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":336}},{"source":"../src/dependency.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":338}},{"source":"../src/dependency.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":340}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":343}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":347}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":349}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":359}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":366}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":374}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":378}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":388}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":391}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":401}},{"source":"../src/dependency.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":404}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":407}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":409}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":419}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":426}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":434}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":438}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":448}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":451}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":461}},{"source":"../src/dependency.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":464}},{"source":"../src/dependency.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":467}},{"source":"../src/dependency.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":469}},{"source":"../src/dependency.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":470}},{"source":"../src/dependency.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":478}},{"source":"../src/dependency.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":482}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":486}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":490}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":1,"column":492}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":49},"generated":{"line":1,"column":495}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":49},"generated":{"line":1,"column":514}},{"source":"../src/dependency.ts","name":null,"original":{"line":49,"column":49},"generated":{"line":1,"column":521}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":524}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":528}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":34},"generated":{"line":1,"column":537}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":44},"generated":{"line":1,"column":546}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":55},"generated":{"line":1,"column":556}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":66},"generated":{"line":1,"column":566}},{"source":"../src/dependency.ts","name":null,"original":{"line":50,"column":76},"generated":{"line":1,"column":568}},{"source":"../src/dependency.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":570}},{"source":"../src/dependency.ts","name":null,"original":{"line":51,"column":13},"generated":{"line":1,"column":571}},{"source":"../src/dependency.ts","name":null,"original":{"line":51,"column":18},"generated":{"line":1,"column":573}},{"source":"../src/dependency.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":575}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":583}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":19},"generated":{"line":1,"column":592}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":42},"generated":{"line":1,"column":595}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":42},"generated":{"line":1,"column":602}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":56},"generated":{"line":1,"column":604}},{"source":"../src/dependency.ts","name":null,"original":{"line":46,"column":68},"generated":{"line":1,"column":606}},{"source":"../src/dependency.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":611}},{"source":"../src/dependency.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":617}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":620}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":628}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":44},"generated":{"line":1,"column":634}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":44},"generated":{"line":1,"column":660}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":44},"generated":{"line":1,"column":667}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":53},"generated":{"line":1,"column":669}},{"source":"../src/dependency.ts","name":null,"original":{"line":53,"column":53},"generated":{"line":1,"column":674}},{"source":"../src/dependency.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":677}},{"source":"../src/dependency.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":684}},{"source":"../src/dependency.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":686}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":694}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":703}},{"source":"../src/dependency.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":705}},{"source":"../src/dependency.ts","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":707}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":2},"generated":{"line":1,"column":710}},{"source":"../src/dependency.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":714}},{"source":"../src/dependency.ts","name":null,"original":{"line":73,"column":14},"generated":{"line":1,"column":716}},{"source":"../src/dependency.ts","name":null,"original":{"line":73,"column":35},"generated":{"line":1,"column":718}},{"source":"../src/dependency.ts","name":null,"original":{"line":73,"column":41},"generated":{"line":1,"column":720}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":722}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":732}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":739}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":747}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":751}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":761}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":764}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":774}},{"source":"../src/dependency.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":777}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":780}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":790}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":797}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":805}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":809}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":819}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":822}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":832}},{"source":"../src/dependency.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":835}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":839}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":846}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":17},"generated":{"line":1,"column":854}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":25},"generated":{"line":1,"column":862}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":30},"generated":{"line":1,"column":865}},{"source":"../src/dependency.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":870}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":873}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":880}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":895}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":903}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":916}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":917}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":924}},{"source":"../src/dependency.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":928}},{"source":"../src/dependency.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":936}},{"source":"../src/dependency.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":951}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":953}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":961}},{"source":"../src/dependency.ts","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":979}}],"sources":{"../src/dependency.ts":"import { GenericPiletApp, AvailableDependencies, GenericPiletExports } from './types';\n\nfunction requireModule(name: string, dependencies: AvailableDependencies) {\n  const dependency = dependencies[name];\n\n  if (!dependency) {\n    const error = new Error(`Cannot find module '${name}'`);\n    (error as any).code = 'MODULE_NOT_FOUND';\n    throw error;\n  }\n\n  return dependency;\n}\n\nfunction checkPiletApp<TApi>(app?: GenericPiletApp<TApi>): GenericPiletApp<TApi> {\n  if (!app) {\n    console.error('Invalid module found.', name);\n  } else if (typeof app.setup !== 'function') {\n    console.warn('Setup function is missing.', name);\n  } else {\n    return app;\n  }\n\n  return {\n    setup() {},\n  };\n}\n\n/**\n * Compiles the given content from a generic dependency.\n * @param name The name of the dependency to compile.\n * @param content The content of the dependency to compile.\n * @param link The optional link to the dependency.\n * @param dependencies The globally available dependencies.\n * @returns The evaluated dependency.\n */\nexport function evalDependency<TApi>(\n  name: string,\n  content: string,\n  link = '',\n  dependencies: AvailableDependencies = {},\n) {\n  const mod = {\n    exports: {},\n  } as GenericPiletExports<TApi>;\n  const require = (moduleName: string) => requireModule(moduleName, dependencies);\n\n  try {\n    const sourceUrl = link && `\\n//# sourceURL=${link}`;\n    const importer = new Function('module', 'exports', 'require', content + sourceUrl);\n    importer(mod, mod.exports, require);\n  } catch (e) {\n    console.error(`Error while evaluating ${name}.`, e);\n  }\n\n  return mod.exports;\n}\n\n/**\n * Compiles the given content from a module with a dependency resolution.\n * @param name The name of the dependency to compile.\n * @param content The content of the dependency to compile.\n * @param link The optional link to the dependency.\n * @param dependencies The globally available dependencies.\n * @returns The evaluated module.\n */\nexport function compileDependency<TApi>(\n  name: string,\n  content: string,\n  link = '',\n  dependencies: AvailableDependencies = {},\n): Promise<GenericPiletApp<TApi>> {\n  const app = evalDependency<TApi>(name, content, link, dependencies);\n  return Promise.resolve(app).then(checkPiletApp);\n}\n"},"lineCount":null}},"error":null,"hash":"7224e93833745ff19c2e532d1b2023df","cacheData":{"env":{}}}