{"id":"Gzjj","dependencies":[{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/create.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/src/create.ts","includedInParent":true,"mtime":499162500000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/package.json","includedInParent":true,"mtime":1583756177000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/package.json","includedInParent":true,"mtime":1583756136000},{"name":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/.browserslistrc","includedInParent":true,"mtime":1583756140000},{"name":"./actions","loc":{"line":3,"column":26},"parent":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/create.js","resolved":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/actions.js"},{"name":"./localize","loc":{"line":4,"column":27},"parent":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/create.js","resolved":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/localize.js"},{"name":"./default","loc":{"line":5,"column":26},"parent":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/create.js","resolved":"/Volumes/Projects430/Development/src/js_dev/ReactJS/piral-app/node_modules/piral-translate/lib/default.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./actions\"),n=require(\"./localize\"),t=require(\"./default\");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messages||{},a=Object.keys(t),r=a[0]||\"en\",i=e.language,c=(\"function\"==typeof i?i(a,r,\"en\"):i)||r;return new n.Localizer(t,c,a.length?a:[c],e.fallback)}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a();return function(a){return a.defineActions(e.createActions(n)),a.dispatch(function(e){return Object.assign(Object.assign({},e),{components:Object.assign(Object.assign({},e.components),{LanguagesPicker:t.DefaultPicker}),language:{loading:!1,available:n.languages,selected:n.language}})}),function(){var e={};return{setTranslations:function(n){e=n},getTranslations:function(){return e},translate:function(t,a){return n.localizeLocal(e,t,a)}}}}}exports.setupLocalizer=a,exports.createLocaleApi=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/create.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/create.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":72}},{"source":"../src/create.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":74}},{"source":"../src/create.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":82}},{"source":"../src/create.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/create.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"../src/create.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":105}},{"source":"../src/create.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":119}},{"source":"../src/create.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":121}},{"source":"../src/create.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":129}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":151}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":31},"generated":{"line":1,"column":155}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":31},"generated":{"line":1,"column":159}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":161}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":171}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":178}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":186}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":190}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":200}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":203}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":213}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":54},"generated":{"line":1,"column":216}},{"source":"../src/create.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":219}},{"source":"../src/create.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":221}},{"source":"../src/create.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":223}},{"source":"../src/create.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":233}},{"source":"../src/create.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":236}},{"source":"../src/create.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":238}},{"source":"../src/create.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":245}},{"source":"../src/create.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":250}},{"source":"../src/create.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":253}},{"source":"../src/create.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":255}},{"source":"../src/create.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":1,"column":257}},{"source":"../src/create.ts","name":null,"original":{"line":41,"column":38},"generated":{"line":1,"column":261}},{"source":"../src/create.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":266}},{"source":"../src/create.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":268}},{"source":"../src/create.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":1,"column":270}},{"source":"../src/create.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":279}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":42},"generated":{"line":1,"column":282}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":301}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":55},"generated":{"line":1,"column":303}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":67},"generated":{"line":1,"column":305}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":78},"generated":{"line":1,"column":307}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":91},"generated":{"line":1,"column":309}},{"source":"../src/create.ts","name":null,"original":{"line":43,"column":99},"generated":{"line":1,"column":315}},{"source":"../src/create.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":319}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":321}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":328}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":332}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":334}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":344}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":346}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":348}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":350}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":58},"generated":{"line":1,"column":357}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":70},"generated":{"line":1,"column":359}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":71},"generated":{"line":1,"column":360}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":82},"generated":{"line":1,"column":363}},{"source":"../src/create.ts","name":null,"original":{"line":45,"column":89},"generated":{"line":1,"column":365}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":375}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":384}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":32},"generated":{"line":1,"column":388}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":32},"generated":{"line":1,"column":392}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":394}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":404}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":411}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":419}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":423}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":433}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":436}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":446}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":57},"generated":{"line":1,"column":449}},{"source":"../src/create.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":453}},{"source":"../src/create.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":460}},{"source":"../src/create.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":469}},{"source":"../src/create.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":472}},{"source":"../src/create.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":479}},{"source":"../src/create.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":481}},{"source":"../src/create.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":495}},{"source":"../src/create.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":497}},{"source":"../src/create.ts","name":null,"original":{"line":54,"column":40},"generated":{"line":1,"column":511}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":515}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":517}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":526}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":535}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":538}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":545}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":552}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":559}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":566}},{"source":"../src/create.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":1,"column":573}},{"source":"../src/create.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":576}},{"source":"../src/create.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":579}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":580}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":591}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":598}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":605}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":612}},{"source":"../src/create.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":619}},{"source":"../src/create.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":622}},{"source":"../src/create.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":624}},{"source":"../src/create.ts","name":null,"original":{"line":59,"column":27},"generated":{"line":1,"column":636}},{"source":"../src/create.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":637}},{"source":"../src/create.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":653}},{"source":"../src/create.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":655}},{"source":"../src/create.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":671}},{"source":"../src/create.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":680}},{"source":"../src/create.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":681}},{"source":"../src/create.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":690}},{"source":"../src/create.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":692}},{"source":"../src/create.ts","name":null,"original":{"line":64,"column":19},"generated":{"line":1,"column":702}},{"source":"../src/create.ts","name":null,"original":{"line":64,"column":29},"generated":{"line":1,"column":704}},{"source":"../src/create.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":714}},{"source":"../src/create.ts","name":null,"original":{"line":65,"column":18},"generated":{"line":1,"column":723}},{"source":"../src/create.ts","name":null,"original":{"line":65,"column":28},"generated":{"line":1,"column":725}},{"source":"../src/create.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":739}},{"source":"../src/create.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":750}},{"source":"../src/create.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":754}},{"source":"../src/create.ts","name":null,"original":{"line":70,"column":52},"generated":{"line":1,"column":756}},{"source":"../src/create.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":1,"column":759}},{"source":"../src/create.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":1,"column":765}},{"source":"../src/create.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":766}},{"source":"../src/create.ts","name":null,"original":{"line":73,"column":24},"generated":{"line":1,"column":782}},{"source":"../src/create.ts","name":null,"original":{"line":73,"column":24},"generated":{"line":1,"column":791}},{"source":"../src/create.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":794}},{"source":"../src/create.ts","name":null,"original":{"line":74,"column":30},"generated":{"line":1,"column":796}},{"source":"../src/create.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":799}},{"source":"../src/create.ts","name":null,"original":{"line":76,"column":23},"generated":{"line":1,"column":815}},{"source":"../src/create.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":826}},{"source":"../src/create.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":1,"column":833}},{"source":"../src/create.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":836}},{"source":"../src/create.ts","name":null,"original":{"line":79,"column":18},"generated":{"line":1,"column":846}},{"source":"../src/create.ts","name":null,"original":{"line":79,"column":18},"generated":{"line":1,"column":855}},{"source":"../src/create.ts","name":null,"original":{"line":79,"column":23},"generated":{"line":1,"column":857}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":860}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":867}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":27},"generated":{"line":1,"column":869}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":41},"generated":{"line":1,"column":883}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":60},"generated":{"line":1,"column":885}},{"source":"../src/create.ts","name":null,"original":{"line":80,"column":65},"generated":{"line":1,"column":887}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":894}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":902}},{"source":"../src/create.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":917}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":919}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":927}},{"source":"../src/create.ts","name":null,"original":{"line":52,"column":0},"generated":{"line":1,"column":943}}],"sources":{"../src/create.ts":"import { Extend } from 'piral-core';\nimport { createActions } from './actions';\nimport { Localizer } from './localize';\nimport { DefaultPicker } from './default';\nimport { PiletLocaleApi, LocalizationMessages, Localizable } from './types';\n\nexport interface TranslationFallback {\n  (key: string, language: string): string;\n}\n\nexport interface RetrieveCurrentLanguage {\n  /**\n   * A function to identify the current language.\n   */\n  (languages: Array<string>, defaultLanguage: string, fallbackLanguage?: string): string;\n}\n\nexport interface LocaleConfig {\n  /**\n   * Sets the default (global) localization messages.\n   * @default {}\n   */\n  messages?: LocalizationMessages;\n  /**\n   * Sets the default language to use.\n   */\n  language?: string | RetrieveCurrentLanguage;\n  /**\n   * Sets the optional fallback to use.\n   */\n  fallback?: TranslationFallback;\n}\n\n/**\n * Sets up a new localizer by using the given config.\n * @param config The configuration for the new localizer.\n */\nexport function setupLocalizer(config: LocaleConfig = {}): Localizable {\n  const msgs = config.messages || {};\n  const languages = Object.keys(msgs);\n  const defaultLang = languages[0] || 'en';\n  const computeLang = config.language;\n  const usedLang = typeof computeLang === 'function' ? computeLang(languages, defaultLang, 'en') : computeLang;\n  const language = usedLang || defaultLang;\n  return new Localizer(msgs, language, languages.length ? languages : [language], config.fallback);\n}\n\n/**\n * Creates new Pilet API extensions for localization.\n * @param localizer The specific localizer to be used, if any.\n */\nexport function createLocaleApi(localizer: Localizable = setupLocalizer()): Extend<PiletLocaleApi> {\n  return context => {\n    context.defineActions(createActions(localizer));\n\n    context.dispatch(state => ({\n      ...state,\n      components: {\n        ...state.components,\n        LanguagesPicker: DefaultPicker,\n      },\n      language: {\n        loading: false,\n        available: localizer.languages,\n        selected: localizer.language,\n      },\n    }));\n\n    return () => {\n      let localTranslations: LocalizationMessages = {};\n\n      return {\n        setTranslations(messages) {\n          localTranslations = messages;\n        },\n        getTranslations() {\n          return localTranslations;\n        },\n        translate(tag, variables) {\n          return localizer.localizeLocal(localTranslations, tag, variables);\n        },\n      };\n    };\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"00b2b3471738eaff58153e6157f19989","cacheData":{"env":{}}}